{"version":3,"file":"simple-popup-234a4b85.js","sources":["../../src/pages/tutorials/simple-popup.md"],"sourcesContent":["---\ntitle: How to create a simple popup\npub:\n- 17\n- Sep\npublished: 2015-09-16T22:03:47.000Z\nmodified: 2018-08-15T05:56:26.000Z\nsummary: Simple PHP / JavaScript popup created for Drupal but can be used with any platform. Popup works only once and again after the cookie is cleared.\nlayout: tutorial\n---\n\nWhile working on Drupal, sometimes clients want something more special like a popup window with questions or images. We could use existing modules, but they always require enactment and you never know what you really get and most of them do not even support everything that we need, so I decided to make my own version.\n\nI wanted to keep it simple. This example is for image and link. Popup jumps in only once per browser and stays off until the cookie is cleared or expired. If you know anyway to make it better, please leave a comment and tell me how.\n\nSo, we want to know if a visitor is here for the first time or is (s)he has been here before. The simplest way to do it is ask nicely if the browser has any cookies to offer. Isset() will return FALSE if testing a variable that has been set to NULL.\n\nIf the answer is FALSE then serve a popup and a cookie for the poor browser and let's get this party started.\nPHP and HTML\n\nAs you can see below, I have used variables for name, description and time. I recommend using a descriptive and unique name for the name because we don't want to mess with other cookies which may have been set for the same site. Doesn't really matter what you put in the $item. Time determines how long you want to keep it active (seconds).\n\n```PHP\n<?php\n$name = \"cookie_name\";\n$item = \"description_or_something_else\";\n$int = 604800;\nif(!isset($_COOKIE[$name])){ setcookie($name,$item,time()+$int); ?>\n<div id=\"popup\"><div class=\"wrap\"><a href=\"your_link\">\n<img src=\"your_image.jpg\" alt=\"insert_title\"></a>\n<a href=\"#\" class=\"stop\">x</a></div></div>\n<?php } ?>\n```\nPHP part is ready and the popup is working. It needs a little bit of CSS and a working close button (X in the right corner).\nJavaScript\n\nI don't know which is the best way to go, JavaScript or PHP, when a visitor wants to close the popup. I used a simple JS script for that. If a visitor presses X (class stop) then add class nogo to #popup. Simple.\n\n```JavaScript\n<script>\n(function ($) {\n\t$(\".stop\").click(function() {\n\t$(\"#popup\").toggleClass(\"nogo\");\n\treturn false; });\n})\n(jQuery);\n</script>\n```\n## CSS\n\nLast but never least, let's make it look nicer. The popup must be top of everything so I used position: absolute and high z-index to make sure of that. It covers the entire screen. After that I just drop .wrap element to the right place.\n\n```CSS\n#popup {\n\twidth: 100%;\n\theight: 100vh;\n\tposition: fixed;\n\ttop: 0; left: 0;\n\tbackground: rgba(0,0,0,.7);\n\tz-index: 999;\n}\n#popup .wrap {\n\twidth: 730px;\n\tbackground: #fff;\n\tmargin: 15vh auto 0;\n\tpadding: 25px 25px 23px;\n\t-moz-border-radius: 6px;\n\t-webkit-border-radius: 6px;\n\tborder-radius: 6px;\n\tposition: relative;\n}\n#popup .stop {\n\tposition: absolute;\n\ttop: 5px;\n\tright: 7px;\n\twidth: 15px;\n\ttext-align: center;\n\tfont-size: 1.5em;\n}\n#popup.nogo { display: none; }\n```"],"names":["metadata","title","pub","published","modified","summary","layout"],"mappings":"qyIAS2BA,4LAAAA,yIARbA,GAAYC,MAAQ,+BAA+BC,KAAO,GAAG,OAAOC,UAAY,2BAA2BC,SAAW,2BAA2BC,QAAU,mJAAmJC,OAAS"}