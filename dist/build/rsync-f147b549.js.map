{"version":3,"file":"rsync-f147b549.js","sources":["../../src/pages/tutorials/rsync.md"],"sourcesContent":["---\ntitle: How to automatic backup data in Linux\npub:\n- 14\n- May\npublished: 2016-05-14T19:50:05+03:00\nmodified: 2016-05-14T19:50:05+03:00\nsummary: Rsync is a powerful tool that facilitates the transfer and synchronization of data between both local and remote systems.\nlayout: tutorial\n---\n\n**<a href=\"https://linux.die.net/man/1/rsync\" rel=\"noopener\" target=\"_blank\">Rsync</a>** is a powerful tool that facilitates the transfer and synchronization of data between both local and remote systems.\n\nRsync finds files that need to be transferred using a lqquick checkrq algorithm (by default) that looks for files that have changed in size or in last-modified time. Any changes in the other preserved attributes (as requested by options) are made on the destination file directly when the quick check indicates that the file's data does not need to be updated.\n\nThis short line transfers all new and modified files from Server_1 to Server_2. Take less time and bandwidth than full copy over SSH. It does not touch local files so you don't need write permission on Server_1 (and in my case my user has no write permission to /wwwroot).\n\nFirst, you need to set up SSH keys so you can log into a remote server without prompting password. After that's done, you need to make your own command with variables.\n\n```Shell\n<code>rsync -azq /wwwroot/ timo@Server_2:/wwwroot/\n```\n\nThe **-a** option is a combination flag which stands for \"archive\" and syncs recursively and preserves symbolic links, special and device files, modification times, group, owner, and permissions. The **-z** compress file data during the transfer and the **-q** option suppress non-error messages.\n\nIf you like to see what is going on you should use **-azhvP**.\n\nThe **-P** option combines **--progress** and **--partial**. You can see a progress bar and can resume interrupted transfers. The **-h** output numbers in a human-readable format and the **-v** increase verbosity. So more information which is easier to read.\n\n## Crontab\n\nBut this should work automatically without user running things so let's use cron to handle sync. Make a new file and write something like this example.\n\nTo command line:\n\n```Shell\ncrontab -e\n```\n\nEdit crontab:\n\n```Shell\n15 1 * * Sat rsync -avh /wwwroot/ timo@Server_2:/wwwroot/ > /dev/null 2>&amp;1\n```\n\nThis command runs every Saturday at 01:15.<br />\nCron timing: minute 0-59, hour 0-23, day of month 1-31, month 1-12, day of week 0-6.\n\n```Shell\ncrontab -l\n```\n\nYou can learn more about rsync <a href=\"https://linux.die.net/man/1/rsync\" rel=\"noopener\" target=\"_blank\">here</a>.<br />\nEasiest way to <a href=\"https://crontab.guru/\" rel=\"noopener\" target=\"_blank\">learn cron</a>.\n\nThanks for reading and happy rsyncing!"],"names":["metadata","title","pub","published","modified","summary","layout"],"mappings":"qqIAS2BA,4LAAAA,yIARbA,GAAYC,MAAQ,wCAAwCC,KAAO,GAAG,OAAOC,UAAY,2BAA2BC,SAAW,2BAA2BC,QAAU,4HAA4HC,OAAS"}